<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Crypto.Network.Noise</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Crypto-Network-Noise.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">noise-0.0.0.0: Usable security for the internet, Deux</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Austin Seipp 2014</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>aseipp@pobox.com</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Trustworthy</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Crypto.Network.Noise</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Noise pipes</a></li><li><a href="#g:2">TCP Socket Interface</a><ul><li><a href="#g:3">Client interface</a></li><li><a href="#g:4">Server interface</a></li><li><a href="#g:5">Sending/receiving data</a></li></ul></li><li><a href="#g:6"><code>io-streams</code> interface</a><ul><li><a href="#g:7">Utilities</a><ul><li><a href="#g:8">X509 certificate authentication support</a></li></ul></li></ul></li><li><a href="#g:9">Windows support</a></li><li><a href="#g:10">Types</a><ul><li><a href="#g:11">Re-exported from <code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/x509-validation-1.5.0/html/Data-X509-Validation.html">Data.X509.Validation</a></code></a></li><li><a href="#g:12">Re-exported from <code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/network-simple-0.3.0/html/Network-Simple-TCP.html">Network.Simple.TCP</a></code></a></li><li><a href="#g:13">Exceptions</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Noise pipes. Pipes encrypt meant for interactive communications
 like networking sockets, and are built on boxes.</p><p>This module exports a simple, high-level interface for
 communicating with pipes securely and easily. For a full tutorial,
 see <a href="Crypto-Noise-Tutorial.html">Crypto.Noise.Tutorial</a>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:connect">connect</a> :: (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/exceptions-0.3.3/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m) =&gt; <a href="Crypto-Network-Noise.html#t:HostName">HostName</a> -&gt; <a href="Crypto-Network-Noise.html#t:ServiceName">ServiceName</a> -&gt; <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a> -&gt; ((<a href="Crypto-Network-Noise.html#t:Context">Context</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; m r) -&gt; m r</li><li class="src short"><a href="#v:serve">serve</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a> -&gt; <a href="Crypto-Network-Noise.html#t:ServiceName">ServiceName</a> -&gt; <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a> -&gt; ((<a href="Crypto-Network-Noise.html#t:Context">Context</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> ()) -&gt; m ()</li><li class="src short"><a href="#v:listen">listen</a> :: (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/exceptions-0.3.3/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m) =&gt; <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a> -&gt; <a href="Crypto-Network-Noise.html#t:ServiceName">ServiceName</a> -&gt; ((<a href="Crypto-Network-Noise.html#t:Socket">Socket</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; m r) -&gt; m r</li><li class="src short"><a href="#v:accept">accept</a> :: (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/exceptions-0.3.3/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m) =&gt; <a href="Crypto-Network-Noise.html#t:Socket">Socket</a> -&gt; <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a> -&gt; ((<a href="Crypto-Network-Noise.html#t:Context">Context</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; m r) -&gt; m r</li><li class="src short"><a href="#v:acceptFork">acceptFork</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Crypto-Network-Noise.html#t:Socket">Socket</a> -&gt; <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a> -&gt; ((<a href="Crypto-Network-Noise.html#t:Context">Context</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> ()) -&gt; m <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Concurrent.html#t:ThreadId">ThreadId</a></li><li class="src short"><a href="#v:send">send</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; m ()</li><li class="src short"><a href="#v:recv">recv</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; m (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:PipeMsg">PipeMsg</a> = <a href="#v:PipeMsg">PipeMsg</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a></li><li class="src short"><a href="#v:pipeClientStream">pipeClientStream</a> :: <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a> -&gt; (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li class="src short"><a href="#v:pipeServerStream">pipeServerStream</a> :: <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a> -&gt; (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li class="src short"><a href="#v:pipeContextStreams">pipeContextStreams</a> :: <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li class="src short"><a href="#v:pipeContextSocket">pipeContextSocket</a> :: <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; <a href="Crypto-Network-Noise.html#t:Socket">Socket</a></li><li class="src short"><a href="#v:closeContext">closeContext</a> :: <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><span class="keyword">type</span> <a href="#t:PipeMsgPadder">PipeMsgPadder</a> = <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="Crypto-Network-Noise.html#t:PipeMsg">PipeMsg</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li class="src short"><a href="#v:randomPadStream">randomPadStream</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a> -&gt; <a href="Crypto-Network-Noise.html#t:PipeMsgPadder">PipeMsgPadder</a></li><li class="src short"><a href="#v:constantPadStream">constantPadStream</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a> -&gt; <a href="Crypto-Network-Noise.html#t:PipeMsgPadder">PipeMsgPadder</a></li><li class="src short"><a href="#v:offerX509">offerX509</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:validateX509">validateX509</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:validateX509_">validateX509_</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/x509-validation-1.5.0/html/Data-X509-Validation.html#t:ValidationCache">ValidationCache</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> ([<a href="Crypto-Network-Noise.html#t:FailedReason">FailedReason</a>] -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:withSocketsDo">withSocketsDo</a> ::  <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Context">Context</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:PipeConfig">PipeConfig</a> = <a href="#v:PipeConfig">PipeConfig</a> {<ul class="subs"><li><a href="#v:confPadding">confPadding</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a></li><li><a href="#v:confKeypair">confKeypair</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Crypto-Noise-Key.html#t:KeyPair">KeyPair</a></li><li><a href="#v:confExpectedKey">confExpectedKey</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Crypto-Noise-Key.html#t:PublicKey">PublicKey</a> <a href="Crypto-Noise-Key.html#t:Noise">Noise</a>)</li><li><a href="#v:confPadder">confPadder</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Crypto-Network-Noise.html#t:PipeMsgPadder">PipeMsgPadder</a></li><li><a href="#v:confInitialMsg">confInitialMsg</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li><a href="#v:confInitialResponse">confInitialResponse</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a>)</li></ul>}</li><li class="src short"><a href="#v:defaultPipeConfig">defaultPipeConfig</a> :: <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FailedReason">FailedReason</a><ul class="subs"><li>= <a href="#v:UnknownCriticalExtension">UnknownCriticalExtension</a></li><li>| <a href="#v:Expired">Expired</a></li><li>| <a href="#v:InFuture">InFuture</a></li><li>| <a href="#v:SelfSigned">SelfSigned</a></li><li>| <a href="#v:UnknownCA">UnknownCA</a></li><li>| <a href="#v:NotAllowedToSign">NotAllowedToSign</a></li><li>| <a href="#v:NotAnAuthority">NotAnAuthority</a></li><li>| <a href="#v:AuthorityTooDeep">AuthorityTooDeep</a></li><li>| <a href="#v:NoCommonName">NoCommonName</a></li><li>| <a href="#v:InvalidName">InvalidName</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:NameMismatch">NameMismatch</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:InvalidWildcard">InvalidWildcard</a></li><li>| <a href="#v:LeafKeyUsageNotAllowed">LeafKeyUsageNotAllowed</a></li><li>| <a href="#v:LeafKeyPurposeNotAllowed">LeafKeyPurposeNotAllowed</a></li><li>| <a href="#v:LeafNotV3">LeafNotV3</a></li><li>| <a href="#v:EmptyChain">EmptyChain</a></li><li>| <a href="#v:CacheSaysNo">CacheSaysNo</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:InvalidSignature">InvalidSignature</a> <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/x509-validation-1.5.0/html/Data-X509-Validation.html#t:SignatureFailure">SignatureFailure</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:HostPreference">HostPreference</a><ul class="subs"><li>= <a href="#v:HostAny">HostAny</a></li><li>| <a href="#v:HostIPv4">HostIPv4</a></li><li>| <a href="#v:HostIPv6">HostIPv6</a></li><li>| <a href="#v:Host">Host</a> <a href="Crypto-Network-Noise.html#t:HostName">HostName</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:HostName">HostName</a> = <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ServiceName">ServiceName</a> = <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Socket">Socket</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:SockAddr">SockAddr</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:IncorrectNoisePipeNegotiation">IncorrectNoisePipeNegotiation</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:InvalidNoiseX509Certificate">InvalidNoiseX509Certificate</a></li></ul></div><div id="interface"><h1 id="g:1">Noise pipes</h1><div class="doc"><p>Noise pipes encrypt interactive channels like sockets. Noise pipes
have some additional benefits in addition with the protections offered
by boxes:</p><dl><dt><code>Full forward secrecy or <em>full key erasure</em></code></dt><dd>Compromise of any
long-term private keys never compromises old pipes. But furthermore,
compromise of an <em>active</em> endpoint in an ongoinng communication does
not compromise prior ciphertexts either - a Noise pipe forgets its
chain secrets upon every message.</dd><dt><code>Resistance to key-compromise impersonation</code></dt><dd>Even with a
compromised private key, the compromised party can still verify other
parties' identities in a Noise pipe.</dd><dt><code>Efficient, encrypted handshakes with short roundtrip</code></dt><dd>Handshakes
allow clients and servers to communicate after only one round trip,
offering room for validation checks or certificates.</dd></dl></div><h1 id="g:2">TCP Socket Interface</h1><div class="doc"><p>A simple, no-nonsense TCP interface for Noise servers/clients. This
forms the basis of the TCP interface. In the simplest case, both
clients and servers are <em>anonymous</em> - identified not by long-term
public keys (which have been exchanged), but only by short-term
ephemeral keys. This makes the TCP layer as easy to use as any
unencrypted socket in the default case.</p></div><h2 id="g:3">Client interface</h2><div class="doc"><p>Here's an example of a Noise client:</p><pre><code><a href="Crypto-Network-Noise.html#v:connect">connect</a></code> &quot;www.example.org&quot; &quot;80&quot; <code><a href="Crypto-Network-Noise.html#v:defaultPipeConfig">defaultPipeConfig</a></code> $ \(ctx, remoteAddr) -&gt; do
  putStrLn $ &quot;Connection established to &quot; ++ show remoteAddr
  -- Now you can use connSock as you see fit with <code><a href="Crypto-Network-Noise.html#v:send">send</a></code> and <code><a href="Crypto-Network-Noise.html#v:recv">recv</a></code>.
  -- The socket handle will automatically be closed when it goes out of scope.
</pre></div><div class="top"><p class="src"><a name="v:connect" class="def">connect</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/exceptions-0.3.3/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Crypto-Network-Noise.html#t:HostName">HostName</a></td><td class="doc"><p>Server hostname</p></td></tr><tr><td class="src">-&gt; <a href="Crypto-Network-Noise.html#t:ServiceName">ServiceName</a></td><td class="doc"><p>Server port</p></td></tr><tr><td class="src">-&gt; <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></td><td class="doc"><p>Client configuration</p></td></tr><tr><td class="src">-&gt; ((<a href="Crypto-Network-Noise.html#t:Context">Context</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; m r)</td><td class="doc"><p>Connection handler</p></td></tr><tr><td class="src">-&gt; m r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Connect to a Noise-secured TCP server and use the connection.</p><p>Any acquired network resources are properly closed and discarded
 when done or in case of exceptions.</p></div></div><h2 id="g:4">Server interface</h2><div class="doc"><p>Here's an example of a Noise server:</p><pre><code><a href="Crypto-Network-Noise.html#v:serve">serve</a></code> (<code><a href="Crypto-Network-Noise.html#v:Host">Host</a></code> &quot;127.0.0.1&quot;) &quot;8000&quot; <code><a href="Crypto-Network-Noise.html#v:defaultPipeConfig">defaultPipeConfig</a></code> $ \(ctx, remoteAddr) -&gt; do
  putStrLn $ &quot;Noise connection established from &quot; ++ show remoteAddr
  -- Now you may use <code>ctx</code> as you please within this scope,
  -- possibly using <code><a href="Crypto-Network-Noise.html#v:recv">recv</a></code> and <code><a href="Crypto-Network-Noise.html#v:send">send</a></code> to interact with the remote end.
</pre></div><div class="top"><p class="src"><a name="v:serve" class="def">serve</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a></td><td class="doc"><p>Preferred host to bind on</p></td></tr><tr><td class="src">-&gt; <a href="Crypto-Network-Noise.html#t:ServiceName">ServiceName</a></td><td class="doc"><p>Service port</p></td></tr><tr><td class="src">-&gt; <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></td><td class="doc"><p>Server configuration</p></td></tr><tr><td class="src">-&gt; ((<a href="Crypto-Network-Noise.html#t:Context">Context</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> ())</td><td class="doc"><p>Connection handler</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Start a Noise-secured TCP server which accepts incoming
 connections and handles each of them concurrently in different
 threads.</p><p>Any acquired network resources are properly closed and discarded
 when done or in case of exceptions.</p><p>Internally, this function just performs <code><code><a href="Crypto-Network-Noise.html#v:listen">listen</a></code></code> and
 <code><code><a href="Crypto-Network-Noise.html#v:acceptFork">acceptFork</a></code></code>.</p></div></div><div class="top"><p class="src"><a name="v:listen" class="def">listen</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/exceptions-0.3.3/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a></td><td class="doc"><p>Preferred host to bind</p></td></tr><tr><td class="src">-&gt; <a href="Crypto-Network-Noise.html#t:ServiceName">ServiceName</a></td><td class="doc"><p>Port identifier</p></td></tr><tr><td class="src">-&gt; ((<a href="Crypto-Network-Noise.html#t:Socket">Socket</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; m r)</td><td class="doc"><p>Handler for listening socket</p></td></tr><tr><td class="src">-&gt; m r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Bind a TCP listening socket and use it</p><p>The listening socket is closed when done or in case of exceptions.</p><p>Note: <code><code><a href="N.html#v:maxListenQueue">maxListenQueue</a></code></code> is tipically 128, which is too small for
 high performance servers. So, we use the maximum between
 <code><a href="N.html#v:maxListenQueue">maxListenQueue</a></code> and 2048 as the default size of the listening
 queue. The <code><code><a href="NS.html#t:NoDelay">NoDelay</a></code></code> and <code><code><a href="NS.html#t:ReuseAddr">ReuseAddr</a></code></code> options are set on the
 socket.</p></div></div><div class="top"><p class="src"><a name="v:accept" class="def">accept</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/exceptions-0.3.3/html/Control-Monad-Catch.html#t:MonadCatch">MonadCatch</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Crypto-Network-Noise.html#t:Socket">Socket</a></td><td class="doc"><p>Listening and bound socket</p></td></tr><tr><td class="src">-&gt; <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></td><td class="doc"><p>Server configuration</p></td></tr><tr><td class="src">-&gt; ((<a href="Crypto-Network-Noise.html#t:Context">Context</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; m r)</td><td class="doc"><p>Handler for incoming connection.</p></td></tr><tr><td class="src">-&gt; m r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Accept a single incoming connection and use it.</p><p>The connection socket is closed when done or in case of exceptions.</p></div></div><div class="top"><p class="src"><a name="v:acceptFork" class="def">acceptFork</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Crypto-Network-Noise.html#t:Socket">Socket</a></td><td class="doc"><p>Listening and bound socket</p></td></tr><tr><td class="src">-&gt; <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></td><td class="doc"><p>Server configuration</p></td></tr><tr><td class="src">-&gt; ((<a href="Crypto-Network-Noise.html#t:Context">Context</a>, <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> ())</td><td class="doc"><p>Handler for incoming connection.</p></td></tr><tr><td class="src">-&gt; m <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Concurrent.html#t:ThreadId">ThreadId</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Accept a single incoming connection and use it in another thread.</p><p>The connection socket is closed when done or in case of exceptions.</p></div></div><h2 id="g:5">Sending/receiving data</h2><div class="top"><p class="src"><a name="v:send" class="def">send</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Crypto-Network-Noise.html#t:Context">Context</a></td><td class="doc"><p>Connection context</p></td></tr><tr><td class="src">-&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Message</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Encrypts the given <code><code><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></code></code>, and writes the bytes to the
 socket in a single message. The data can also be padded with random
 data to obscure the plaintext length.</p></div></div><div class="top"><p class="src"><a name="v:recv" class="def">recv</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/transformers-0.3.0.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; m (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</p><div class="doc"><p>Receives data over the connection, decrypts it and returns the
 resulting <code><code><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></code></code>. This receives a single Noise message.</p><p>Returns <code><code><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code></code> if the remote end closed the connection or
 end-of-input was reached.</p></div></div><h1 id="g:6"><code>io-streams</code> interface</h1><div class="doc"><p>A simple <code>io-streams</code> based interface for Noise pipes. Using these
APIs, you can turn any <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a></code></code> or <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> into an
encrypted Noise channel. Additionally, you can take a socket
<code><code><a href="Crypto-Network-Noise.html#t:Context">Context</a></code></code> and obtain the underlying streams, to layer in other
transformations.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:PipeMsg" class="def">PipeMsg</a></p><div class="doc"><p>A message to send down a noise pipe - simply a message paired
 with an amount of random padding to add to the message.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:PipeMsg" class="def">PipeMsg</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:pipeClientStream" class="def">pipeClientStream</a> :: <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a> -&gt; (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</p><div class="doc"><p>Turn an <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a></code></code> and <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> into encrypted noise
 pipes for use by clients to talk to servers.</p></div></div><div class="top"><p class="src"><a name="v:pipeServerStream" class="def">pipeServerStream</a> :: <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a> -&gt; (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>) -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</p><div class="doc"><p>Turn an <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a></code></code> and <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> into encrypted noise
 pipes for use by servers to talk to clients.</p></div></div><div class="top"><p class="src"><a name="v:pipeContextStreams" class="def">pipeContextStreams</a> :: <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>, <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</p><div class="doc"><p>Pull out the underlying <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:InputStream">InputStream</a></code></code> and <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code>
 from the given TCP <code><code><a href="Crypto-Network-Noise.html#t:Context">Context</a></code></code>. Any data written/read from these
 streams will be encrypted/decrypted from the other side.</p></div></div><div class="top"><p class="src"><a name="v:pipeContextSocket" class="def">pipeContextSocket</a> :: <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; <a href="Crypto-Network-Noise.html#t:Socket">Socket</a></p><div class="doc"><p>Pull out the underlying <code><code><a href="Crypto-Network-Noise.html#t:Socket">Socket</a></code></code> from the <code><code><a href="Crypto-Network-Noise.html#t:Context">Context</a></code></code>.</p></div></div><div class="top"><p class="src"><a name="v:closeContext" class="def">closeContext</a> :: <a href="Crypto-Network-Noise.html#t:Context">Context</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Close the given <code><code><a href="Crypto-Network-Noise.html#t:Context">Context</a></code></code>.</p></div></div><h2 id="g:7">Utilities</h2><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:PipeMsgPadder" class="def">PipeMsgPadder</a> = <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="Crypto-Network-Noise.html#t:PipeMsg">PipeMsg</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> (<a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</p><div class="doc"><p>Type of functions which pad pipe messages.</p></div></div><div class="top"><p class="src"><a name="v:randomPadStream" class="def">randomPadStream</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a> -&gt; <a href="Crypto-Network-Noise.html#t:PipeMsgPadder">PipeMsgPadder</a></p><div class="doc"><p>Given an <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> for a <code><code><a href="Crypto-Network-Noise.html#t:PipeMsg">PipeMsg</a></code></code>, create an
 <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> that attaches a random number of bytes (within
 the specified range) to every message sent down the pipe, to make plaintext
 analysis more difficult.</p><p>For example</p><pre>let outStream' = <code><a href="Crypto-Network-Noise.html#v:randomPadStream">randomPadStream</a></code> (0, 64) outStream</pre><p>creates an <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> where every message has between 0 and 64 bytes
 of padding, chosen randomly.</p></div></div><div class="top"><p class="src"><a name="v:constantPadStream" class="def">constantPadStream</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a> -&gt; <a href="Crypto-Network-Noise.html#t:PipeMsgPadder">PipeMsgPadder</a></p><div class="doc"><p>Given an <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> for a <code><code><a href="Crypto-Network-Noise.html#t:PipeMsg">PipeMsg</a></code></code>, create an
 <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> that attaches a constant number of random bytes
 to every message sent down the pipe.</p><p>For example</p><pre>let outStream' = <code><a href="Crypto-Network-Noise.html#v:constantPadStream">constantPadStream</a></code> 0 outStream</pre><p>creates an <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> where there is no padding for the messages
 sent down the pipe.</p></div></div><h3 id="g:8">X509 certificate authentication support</h3><div class="doc"><p>Simple X509 support for pipe handshakes. The two functions
<code><code><a href="Crypto-Network-Noise.html#v:offerX509">offerX509</a></code></code> and <code><code><a href="Crypto-Network-Noise.html#v:validateX509">validateX509</a></code></code> provide hooks you can use with
<code><code><a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></code></code> to do X509 certificate validation as part of the
initial Noise handshake. In addition, the extra <code><code><a href="Crypto-Network-Noise.html#v:validateX509_">validateX509_</a></code></code>
function gives you more control over the client validation (to allow,
for example, self-signed certificates).</p><p>This verification API can work for verifying server certificates to
clients, vice versa, or both.</p></div><div class="top"><p class="src"><a name="v:offerX509" class="def">offerX509</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>Path to the server certificate chain to offer
 during the handshake, in PEM format.</p></td></tr><tr><td class="src">-&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Resulting encoded certificate chain.</p></td></tr></table></div><div class="doc"><p>Offer up an X509 certificate chain as part of the initial
 handshake. Given a <code><code><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:FilePath">FilePath</a></code></code> specifying a certificate, this will
 cause the configured party to issue the certificate as part of its
 initial message.</p><p>Note the other party MUST validate this response using
 <code><code><a href="Crypto-Network-Noise.html#v:validateX509">validateX509</a></code></code> in their <code><code><a href="Crypto-Network-Noise.html#v:confInitialResponse">confInitialResponse</a></code></code> setting.</p><p>When this function cannot parse the certificate chain correctly
 (for example, using an invalid file), it will throw an
 <code><code><a href="Crypto-Network-Noise.html#t:InvalidNoiseX509Certificate">InvalidNoiseX509Certificate</a></code></code>.</p></div></div><div class="top"><p class="src"><a name="v:validateX509" class="def">validateX509</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></td><td class="doc"><p>Optional certificate FQDN to verify.</p></td></tr><tr><td class="src">-&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Input certificate</p></td></tr><tr><td class="src">-&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Simple X509 certificate chain validation for initial handshakes.</p><p>This is a simple, easy-to-use client API that allows you to
 validate server-offered certificates using the system certificate
 store. All it needs is the expected FQDN of the certificate.</p><p>If you need more control (for example, TOFU policies or validation
 exceptions), please use <code><code><a href="Crypto-Network-Noise.html#v:validateX509_">validateX509_</a></code></code> instead.</p><p>Note the server MUST send the initial certificate using
 <code><code><a href="Crypto-Network-Noise.html#v:offerX509">offerX509</a></code></code> in their <code><code><a href="Crypto-Network-Noise.html#v:confInitialMsg">confInitialMsg</a></code></code> setting.</p><p>When this function cannot validate the X509 certificate offered to
 it, it will throw an <code><code><a href="Crypto-Network-Noise.html#t:InvalidNoiseX509Certificate">InvalidNoiseX509Certificate</a></code></code> exception.</p></div></div><div class="top"><p class="src"><a name="v:validateX509_" class="def">validateX509_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></td><td class="doc"><p>Optional certificate FQDN to verify.</p></td></tr><tr><td class="src">-&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/x509-validation-1.5.0/html/Data-X509-Validation.html#t:ValidationCache">ValidationCache</a></td><td class="doc"><p>Optional X509 validation cache. You may use
 this to enforce self-signing exceptions or TOFU
 (&quot;Trust On First Use&quot;) validation.</p><p>The default cache is
 <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/x509-validation-1.5.0/html/Data-X509-Validation.html#v:exceptionValidationCache">exceptionValidationCache</a></code>
 []</code></p><p>Note that fingerprints by default use SHA256,
 not SHA1.</p></td></tr><tr><td class="src">-&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> ([<a href="Crypto-Network-Noise.html#t:FailedReason">FailedReason</a>] -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>Optional testing predicate. If for some reason
 you <em>expect</em> the validation to fail, you can use
 this to check specific results. You're
 encouraged to never touch this.</p><p>If you need a self signed certificate, you
 should use the X509
 <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/x509-validation-1.5.0/html/Data-X509-Validation.html#t:ValidationCache">ValidationCache</a></code></code>
 instead (which also lets you do TOFU).</p><p>The default predicate is <code>(x -&gt; if x == []
 then return True else
 <code><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Exception-Base.html#v:throwIO">throwIO</a></code>
 <code><a href="Crypto-Network-Noise.html#t:InvalidNoiseX509Certificate">InvalidNoiseX509Certificate</a></code> ...)</code> - i.e. the
 certificate must properly validate.</p></td></tr><tr><td class="src">-&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Input certificate</p></td></tr><tr><td class="src">-&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>X509 certificate validation. This is the 'extended' version of
 the basic <code><code>x509ClientValidate</code></code> API, allowing more control. Given
 an optional hostname and the input certificate chain (encoded), as
 well as control over the validation cache and a predicate, this
 validates the certificate against the system store.</p><p>Note the server MUST send the initial certificate using
 <code><code>x509ServerMsg</code></code> in their <code><code>serverInitialMsg</code></code> setting.</p><p>When this function cannot validate the X509 certificate offered to
 it, it will throw an <code><code><a href="Crypto-Network-Noise.html#t:InvalidNoiseX509Certificate">InvalidNoiseX509Certificate</a></code></code> exception.</p></div></div><h1 id="g:9">Windows support</h1><div class="top"><p class="src"><a name="v:withSocketsDo" class="def">withSocketsDo</a> ::  <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> a</p><div class="doc"><p>On Windows operating systems, the networking subsystem has to be
initialised using <code><a href="Crypto-Network-Noise.html#v:withSocketsDo">withSocketsDo</a></code> before any networking operations can
be used.  eg.</p><pre>main = withSocketsDo $ do {...}</pre><p>Although this is only strictly necessary on Windows platforms, it is
harmless on other platforms, so for portability it is good practice to
use it all the time.</p></div></div><h1 id="g:10">Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Context" class="def">Context</a></p><div class="doc"><p>TCP connection context, containing internal connection streams.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:PipeConfig" class="def">PipeConfig</a></p><div class="doc"><p>Pipe configuration. This sets options for the long-term
 connection and initial setup phase. Most people are probably fine
 using <code><code><a href="Crypto-Network-Noise.html#v:defaultPipeConfig">defaultPipeConfig</a></code></code>, although depending on your use case,
 you may also want to customise the padder (probably using
 <code><code><a href="Crypto-Network-Noise.html#v:randomPadStream">randomPadStream</a></code></code>).</p><p>Note that if you override the initial message/response handler, you
 must overwrite the dual option in the other parties' handler.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:PipeConfig" class="def">PipeConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:confPadding" class="def">confPadding</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Word.html#t:Word32">Word32</a></dt><dd class="doc"><p>Padding length for the initial handshake.
 Default is <code><code><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code></code>, which signifies a random
 amount of padding between 0 and 32 bytes.</p></dd><dt class="src"><a name="v:confKeypair" class="def">confKeypair</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Crypto-Noise-Key.html#t:KeyPair">KeyPair</a></dt><dd class="doc"><p>Our keypair for the Noise handshake. If
 unspecified, the party is considered anonymous for
 the duration of the connection.</p></dd><dt class="src"><a name="v:confExpectedKey" class="def">confExpectedKey</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Crypto-Noise-Key.html#t:PublicKey">PublicKey</a> <a href="Crypto-Noise-Key.html#t:Noise">Noise</a>)</dt><dd class="doc"><p>Expected public key for the other end of the
 Noise pipe. If unspecified, the party is
 considered anonymous for the duration of the
 connection.</p></dd><dt class="src"><a name="v:confPadder" class="def">confPadder</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Crypto-Network-Noise.html#t:PipeMsgPadder">PipeMsgPadder</a></dt><dd class="doc"><p>Padding function. For every outgoing Noise
 message down the pipe, this function transforms
 the <code><code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/io-streams-1.1.4.2/html/System-IO-Streams-Internal.html#t:OutputStream">OutputStream</a></code></code> to yield a padding value
 upstream. For example, <code><code><a href="Crypto-Network-Noise.html#v:randomPadStream">randomPadStream</a></code></code>
 yields a random padding length for every
 message, while <code><code><a href="Crypto-Network-Noise.html#v:constantPadStream">constantPadStream</a></code></code> yields a
 constant amount of padding for each message.</p></dd><dt class="src"><a name="v:confInitialMsg" class="def">confInitialMsg</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a>)</dt><dd class="doc"><p>Message to send to other party in the initial
 Box during the handshake.  If <code><code><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#v:Nothing">Nothing</a></code></code>, then
 the default message of 16 zero bytes is used.</p></dd><dt class="src"><a name="v:confInitialResponse" class="def">confInitialResponse</a> :: <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/System-IO.html#t:IO">IO</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#t:Bool">Bool</a>)</dt><dd class="doc"><p>Handler of the initial response box from the
 other party. If the result is <code><code><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Bool.html#v:False">False</a></code></code>, then the
 connection is terminated. By default, verifies the
 16 zero bytes.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:PipeConfig" class="caption collapser" onclick="toggleSection('i:PipeConfig')">Instances</p><div id="section.i:PipeConfig" class="show"><table><tr><td class="src"><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/data-default-class-0.0.1/html/Data-Default-Class.html#t:Default">Default</a> <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:defaultPipeConfig" class="def">defaultPipeConfig</a> :: <a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></p><div class="doc"><p>The default <code><code><a href="Crypto-Network-Noise.html#t:PipeConfig">PipeConfig</a></code></code> uses randomized initial padding
 length, no server keypair (anonymous), no expected client key
 (anonymous), and no padding for messages (using
 <code><code><a href="Crypto-Network-Noise.html#v:constantPadStream">constantPadStream</a></code> 0</code>).</p></div></div><h2 id="g:11">Re-exported from <code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/x509-validation-1.5.0/html/Data-X509-Validation.html">Data.X509.Validation</a></code></h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FailedReason" class="def">FailedReason</a></p><div class="doc"><p>Possible reason of certificate and chain failure</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:UnknownCriticalExtension" class="def">UnknownCriticalExtension</a></td><td class="doc"><p>certificate contains an unknown critical extension</p></td></tr><tr><td class="src"><a name="v:Expired" class="def">Expired</a></td><td class="doc"><p>validity ends before checking time</p></td></tr><tr><td class="src"><a name="v:InFuture" class="def">InFuture</a></td><td class="doc"><p>validity starts after checking time</p></td></tr><tr><td class="src"><a name="v:SelfSigned" class="def">SelfSigned</a></td><td class="doc"><p>certificate is self signed</p></td></tr><tr><td class="src"><a name="v:UnknownCA" class="def">UnknownCA</a></td><td class="doc"><p>unknown Certificate Authority (CA)</p></td></tr><tr><td class="src"><a name="v:NotAllowedToSign" class="def">NotAllowedToSign</a></td><td class="doc"><p>certificate is not allowed to sign</p></td></tr><tr><td class="src"><a name="v:NotAnAuthority" class="def">NotAnAuthority</a></td><td class="doc"><p>not a CA</p></td></tr><tr><td class="src"><a name="v:AuthorityTooDeep" class="def">AuthorityTooDeep</a></td><td class="doc"><p>Violation of the optional Basic constraint's path length</p></td></tr><tr><td class="src"><a name="v:NoCommonName" class="def">NoCommonName</a></td><td class="doc"><p>Certificate doesn't have any common name (CN)</p></td></tr><tr><td class="src"><a name="v:InvalidName" class="def">InvalidName</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></td><td class="doc"><p>Invalid name in certificate</p></td></tr><tr><td class="src"><a name="v:NameMismatch" class="def">NameMismatch</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></td><td class="doc"><p>connection name and certificate do not match</p></td></tr><tr><td class="src"><a name="v:InvalidWildcard" class="def">InvalidWildcard</a></td><td class="doc"><p>invalid wildcard in certificate</p></td></tr><tr><td class="src"><a name="v:LeafKeyUsageNotAllowed" class="def">LeafKeyUsageNotAllowed</a></td><td class="doc"><p>the requested key usage is not compatible with the leaf certificate's key usage</p></td></tr><tr><td class="src"><a name="v:LeafKeyPurposeNotAllowed" class="def">LeafKeyPurposeNotAllowed</a></td><td class="doc"><p>the requested key purpose is not compatible with the leaf certificate's extended key usage</p></td></tr><tr><td class="src"><a name="v:LeafNotV3" class="def">LeafNotV3</a></td><td class="doc"><p>Only authorized an X509.V3 certificate as leaf certificate.</p></td></tr><tr><td class="src"><a name="v:EmptyChain" class="def">EmptyChain</a></td><td class="doc"><p>empty chain of certificate</p></td></tr><tr><td class="src"><a name="v:CacheSaysNo" class="def">CacheSaysNo</a> <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></td><td class="doc"><p>the cache explicitely denied this certificate</p></td></tr><tr><td class="src"><a name="v:InvalidSignature" class="def">InvalidSignature</a> <a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/x509-validation-1.5.0/html/Data-X509-Validation.html#t:SignatureFailure">SignatureFailure</a></td><td class="doc"><p>signature failed</p></td></tr></table></div><div class="subs instances"><p id="control.i:FailedReason" class="caption collapser" onclick="toggleSection('i:FailedReason')">Instances</p><div id="section.i:FailedReason" class="show"><table><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Crypto-Network-Noise.html#t:FailedReason">FailedReason</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Crypto-Network-Noise.html#t:FailedReason">FailedReason</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:12">Re-exported from <code><a href="file:///home/a/.cabal/share/doc/x86_64-linux-ghc-7.8.0.20140228/network-simple-0.3.0/html/Network-Simple-TCP.html">Network.Simple.TCP</a></code></h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:HostPreference" class="def">HostPreference</a></p><div class="doc"><p>Preferred host to bind.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HostAny" class="def">HostAny</a></td><td class="doc"><p>Any available host.</p></td></tr><tr><td class="src"><a name="v:HostIPv4" class="def">HostIPv4</a></td><td class="doc"><p>Any available IPv4 host.</p></td></tr><tr><td class="src"><a name="v:HostIPv6" class="def">HostIPv6</a></td><td class="doc"><p>Any available IPv6 host.</p></td></tr><tr><td class="src"><a name="v:Host" class="def">Host</a> <a href="Crypto-Network-Noise.html#t:HostName">HostName</a></td><td class="doc"><p>An explicit host name.</p></td></tr></table></div><div class="subs instances"><p id="control.i:HostPreference" class="caption collapser" onclick="toggleSection('i:HostPreference')">Instances</p><div id="section.i:HostPreference" class="show"><table><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Read.html#t:Read">Read</a> <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:IsString">IsString</a> <a href="Crypto-Network-Noise.html#t:HostPreference">HostPreference</a></td><td class="doc"><p>The following special values are recognized:</p><ul><li><code>*</code> means <code><a href="Crypto-Network-Noise.html#v:HostAny">HostAny</a></code></li><li><code>*4</code> means <code><a href="Crypto-Network-Noise.html#v:HostIPv4">HostIPv4</a></code></li><li><code>*6</code> means <code><a href="Crypto-Network-Noise.html#v:HostIPv6">HostIPv6</a></code></li><li>Any other string is <code><a href="Crypto-Network-Noise.html#v:Host">Host</a></code></li></ul></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:HostName" class="def">HostName</a> = <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></p><div class="doc"><p>Either a host name e.g., <code>&quot;haskell.org&quot;</code> or a numeric host
 address string consisting of a dotted decimal IPv4 address or an
 IPv6 address e.g., <code>&quot;192.168.0.1&quot;</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ServiceName" class="def">ServiceName</a> = <a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-String.html#t:String">String</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Socket" class="def">Socket</a></p><div class="subs instances"><p id="control.i:Socket" class="caption collapser" onclick="toggleSection('i:Socket')">Instances</p><div id="section.i:Socket" class="show"><table><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Crypto-Network-Noise.html#t:Socket">Socket</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Crypto-Network-Noise.html#t:Socket">Socket</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Crypto-Network-Noise.html#t:Socket">Socket</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SockAddr" class="def">SockAddr</a></p><div class="subs instances"><p id="control.i:SockAddr" class="caption collapser" onclick="toggleSection('i:SockAddr')">Instances</p><div id="section.i:SockAddr" class="show"><table><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Eq.html#t:Eq">Eq</a> <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Ord.html#t:Ord">Ord</a> <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Crypto-Network-Noise.html#t:SockAddr">SockAddr</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:13">Exceptions</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:IncorrectNoisePipeNegotiation" class="def">IncorrectNoisePipeNegotiation</a></p><div class="doc"><p>An exception which is thrown when the Noise pipe cannot be
 properly negotiated due to key failure or some other error.</p></div><div class="subs instances"><p id="control.i:IncorrectNoisePipeNegotiation" class="caption collapser" onclick="toggleSection('i:IncorrectNoisePipeNegotiation')">Instances</p><div id="section.i:IncorrectNoisePipeNegotiation" class="show"><table><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Crypto-Network-Noise.html#t:IncorrectNoisePipeNegotiation">IncorrectNoisePipeNegotiation</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Crypto-Network-Noise.html#t:IncorrectNoisePipeNegotiation">IncorrectNoisePipeNegotiation</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Crypto-Network-Noise.html#t:IncorrectNoisePipeNegotiation">IncorrectNoisePipeNegotiation</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:InvalidNoiseX509Certificate" class="def">InvalidNoiseX509Certificate</a></p><div class="doc"><p>Exception throw by clients when an invalid X509 certificate is offered. This may also be thrown by the server when it
 cannot decode the X509 certificate.</p></div><div class="subs instances"><p id="control.i:InvalidNoiseX509Certificate" class="caption collapser" onclick="toggleSection('i:InvalidNoiseX509Certificate')">Instances</p><div id="section.i:InvalidNoiseX509Certificate" class="show"><table><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Text-Show.html#t:Show">Show</a> <a href="Crypto-Network-Noise.html#t:InvalidNoiseX509Certificate">InvalidNoiseX509Certificate</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Crypto-Network-Noise.html#t:InvalidNoiseX509Certificate">InvalidNoiseX509Certificate</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/a/ghc-7.8-rc2/share/doc/ghc/html/libraries/base-4.7.0.0/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Crypto-Network-Noise.html#t:InvalidNoiseX509Certificate">InvalidNoiseX509Certificate</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.0</p></div></body></html>